{"remainingRequest":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue?vue&type=template&id=3af19f98","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue","mtime":1636991553944},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNoYXQtd2luZG93Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIm1lc3NhZ2VzIiwKICByZWY6ICJtc2dCb3giCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY3JlYXRlZC1hdCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJuYW1lIgp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogIm1lc2FnZSIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmZvcm1hdHRlZE1lc3NhZ2VzLCBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogInNpbmdsZSIsCiAgICAgIGtleTogbWVzc2FnZS5pZAogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8zLCBfdG9EaXNwbGF5U3RyaW5nKG1lc3NhZ2UuY3JlYXRlZF9hdCksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF80LCBfdG9EaXNwbGF5U3RyaW5nKG1lc3NhZ2UubmFtZSksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKG1lc3NhZ2UubWVzc2FnZSksIDEKICAgIC8qIFRFWFQgKi8KICAgICldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0sIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApXSk7Cn0="},{"version":3,"sources":["C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue"],"names":[],"mappings":";;;AACO,EAAA,KAAK,EAAC;;;AACF,EAAA,KAAK,EAAC,U;AAAW,EAAA,GAAG,EAAC;;;AAEZ,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;uBALxB,mBAAA,CAQM,KARN,EAAA,UAAA,EAQM,CAPF,mBAAA,CAMQ,KANR,EAAA,UAAA,EAMQ,E,kBALJ,mBAAA,CAIM,SAJN,EAIM,IAJN,EAIM,WAAA,CAJgC,MAAA,CAAA,iBAIhC,EAJiD,UAA5B,OAA4B,EAArB;yBAAlC,mBAAA,CAIM,KAJN,EAIM;AAJD,MAAA,KAAK,EAAC,QAIL;AAJoD,MAAA,GAAG,EAAE,OAAO,CAAC;AAIjE,KAJN,E,CACI,mBAAA,CAAsD,MAAtD,EAAA,UAAA,EAAsD,gBAAA,CAA3B,OAAO,CAAC,UAAmB,CAAtD,EAA6C;AAAA;AAA7C,K,EACA,mBAAA,CAA0C,MAA1C,EAAA,UAAA,EAA0C,gBAAA,CAArB,OAAO,CAAC,IAAa,CAA1C,EAAiC;AAAA;AAAjC,K,EACA,mBAAA,CAA+C,MAA/C,EAAA,UAAA,EAA+C,gBAAA,CAAxB,OAAO,CAAC,OAAgB,CAA/C,EAAsC;AAAA;AAAtC,K,CAHJ,C;GAIM,CAJN,E;;AAAA,GAKI,EANR,E;;AAAA,GAOE,CARN,C","sourcesContent":["<template>\r\n  <div class=\"chat-window\">\r\n      <div class=\"messages\" ref=\"msgBox\">\r\n          <div class=\"single\" v-for=\"message in formattedMessages\" :key=\"message.id\">\r\n              <span class=\"created-at\">{{message.created_at}}</span>\r\n              <span class=\"name\">{{message.name}}</span>\r\n              <span class=\"mesage\">{{message.message}}</span>\r\n          </div>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from '@vue/reactivity'\r\nimport {db} from '../firebase/config'\r\nimport {formatDistanceToNow} from \"date-fns\"\r\nimport { onUpdated } from '@vue/runtime-core'\r\nexport default {\r\n    setup(){\r\n        let messages=ref([]);\r\n        let msgBox=ref(null);\r\n\r\n        //auto scrolling feature\r\n        onUpdated(()=>{\r\n            msgBox.value.scrollTop\r\n        })\r\n\r\n\r\n\r\n        let formattedMessages=computed(()=>{\r\n            return messages.value.map((msg)=>{\r\n                let formatTime=formatDistanceToNow(msg.created_at.toDate())\r\n                return{...msg,created_at:formatTime}\r\n            })\r\n        })\r\n        db.collection(\"messages\").orderBy(\"created_at\").onSnapshot((snap)=>{\r\n            let results=[];\r\n            snap.docs.forEach((doc)=>{\r\n                let document={...doc.data(),id:doc.id}\r\n                doc.data().created_at && results.push(document);\r\n            })\r\n            messages.value = results;\r\n        })\r\n        return {messages,formattedMessages,msgBox};\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.chat-window{\r\n    background: #fafafa;\r\n    padding: 30px 20px;\r\n}\r\n.single{\r\n    margin:18px 0;\r\n}\r\n.created-at{\r\n    display: block;\r\n    color: #999;\r\n    font-size: 12px;\r\n    margin-bottom: 4px;\r\n}\r\n.name{\r\n    font-weight: bold;\r\n    margin-right: 6px;\r\n}\r\n.messages{\r\n    max-height: 400px;\r\n    overflow: auto;\r\n}\r\n</style>"],"sourceRoot":""}]}