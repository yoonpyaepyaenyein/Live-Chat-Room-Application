{"remainingRequest":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue?vue&type=style&index=0&id=3af19f98&lang=css","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue","mtime":1636991553944},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1628298225000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY2hhdC13aW5kb3d7DQogICAgYmFja2dyb3VuZDogI2ZhZmFmYTsNCiAgICBwYWRkaW5nOiAzMHB4IDIwcHg7DQp9DQouc2luZ2xlew0KICAgIG1hcmdpbjoxOHB4IDA7DQp9DQouY3JlYXRlZC1hdHsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgICBjb2xvcjogIzk5OTsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgbWFyZ2luLWJvdHRvbTogNHB4Ow0KfQ0KLm5hbWV7DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgbWFyZ2luLXJpZ2h0OiA2cHg7DQp9DQoubWVzc2FnZXN7DQogICAgbWF4LWhlaWdodDogNDAwcHg7DQogICAgb3ZlcmZsb3c6IGF1dG87DQp9DQo="},{"version":3,"sources":["C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue"],"names":[],"mappings":";AAiDA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACtB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACjB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACtB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAClB","file":"C:/Users/HP/Desktop/live-chat/src/components/ChatWindow.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"chat-window\">\r\n      <div class=\"messages\" ref=\"msgBox\">\r\n          <div class=\"single\" v-for=\"message in formattedMessages\" :key=\"message.id\">\r\n              <span class=\"created-at\">{{message.created_at}}</span>\r\n              <span class=\"name\">{{message.name}}</span>\r\n              <span class=\"mesage\">{{message.message}}</span>\r\n          </div>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from '@vue/reactivity'\r\nimport {db} from '../firebase/config'\r\nimport {formatDistanceToNow} from \"date-fns\"\r\nimport { onUpdated } from '@vue/runtime-core'\r\nexport default {\r\n    setup(){\r\n        let messages=ref([]);\r\n        let msgBox=ref(null);\r\n\r\n        //auto scrolling feature\r\n        onUpdated(()=>{\r\n            msgBox.value.scrollTop\r\n        })\r\n\r\n\r\n\r\n        let formattedMessages=computed(()=>{\r\n            return messages.value.map((msg)=>{\r\n                let formatTime=formatDistanceToNow(msg.created_at.toDate())\r\n                return{...msg,created_at:formatTime}\r\n            })\r\n        })\r\n        db.collection(\"messages\").orderBy(\"created_at\").onSnapshot((snap)=>{\r\n            let results=[];\r\n            snap.docs.forEach((doc)=>{\r\n                let document={...doc.data(),id:doc.id}\r\n                doc.data().created_at && results.push(document);\r\n            })\r\n            messages.value = results;\r\n        })\r\n        return {messages,formattedMessages,msgBox};\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.chat-window{\r\n    background: #fafafa;\r\n    padding: 30px 20px;\r\n}\r\n.single{\r\n    margin:18px 0;\r\n}\r\n.created-at{\r\n    display: block;\r\n    color: #999;\r\n    font-size: 12px;\r\n    margin-bottom: 4px;\r\n}\r\n.name{\r\n    font-weight: bold;\r\n    margin-right: 6px;\r\n}\r\n.messages{\r\n    max-height: 400px;\r\n    overflow: auto;\r\n}\r\n</style>"]}]}