{"remainingRequest":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue?vue&type=template&id=725b953b","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue","mtime":1636991567192},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HP\\Desktop\\live-chat\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImNoYXQtd2luZG93Ij4NCiAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2VzIiByZWY9Im1zZ0JveCI+DQogICAgICAgICAgPGRpdiBjbGFzcz0ic2luZ2xlIiB2LWZvcj0ibWVzc2FnZSBpbiBmb3JtYXR0ZWRNZXNzYWdlcyIgOmtleT0ibWVzc2FnZS5pZCI+DQogICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjcmVhdGVkLWF0Ij57e21lc3NhZ2UuY3JlYXRlZF9hdH19PC9zcGFuPg0KICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibmFtZSI+e3ttZXNzYWdlLm5hbWV9fTwvc3Bhbj4NCiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1lc2FnZSI+e3ttZXNzYWdlLm1lc3NhZ2V9fTwvc3Bhbj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogIDwvZGl2Pg0K"},{"version":3,"sources":["C:\\Users\\HP\\Desktop\\live-chat\\src\\components\\ChatWindow.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACtE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACrD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACzC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClD,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/HP/Desktop/live-chat/src/components/ChatWindow.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"chat-window\">\r\n      <div class=\"messages\" ref=\"msgBox\">\r\n          <div class=\"single\" v-for=\"message in formattedMessages\" :key=\"message.id\">\r\n              <span class=\"created-at\">{{message.created_at}}</span>\r\n              <span class=\"name\">{{message.name}}</span>\r\n              <span class=\"mesage\">{{message.message}}</span>\r\n          </div>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from '@vue/reactivity'\r\nimport {db} from '../firebase/config'\r\nimport {formatDistanceToNow} from \"date-fns\"\r\nimport { onUpdated } from '@vue/runtime-core'\r\nexport default {\r\n    setup(){\r\n        let messages=ref([]);\r\n        let msgBox=ref(null);\r\n\r\n        //auto scrolling feature\r\n        onUpdated(()=>{\r\n            msgBox.value.scrollTop=msgBox.value.scrollHeight\r\n        })\r\n\r\n\r\n\r\n        let formattedMessages=computed(()=>{\r\n            return messages.value.map((msg)=>{\r\n                let formatTime=formatDistanceToNow(msg.created_at.toDate())\r\n                return{...msg,created_at:formatTime}\r\n            })\r\n        })\r\n        db.collection(\"messages\").orderBy(\"created_at\").onSnapshot((snap)=>{\r\n            let results=[];\r\n            snap.docs.forEach((doc)=>{\r\n                let document={...doc.data(),id:doc.id}\r\n                doc.data().created_at && results.push(document);\r\n            })\r\n            messages.value = results;\r\n        })\r\n        return {messages,formattedMessages,msgBox};\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.chat-window{\r\n    background: #fafafa;\r\n    padding: 30px 20px;\r\n}\r\n.single{\r\n    margin:18px 0;\r\n}\r\n.created-at{\r\n    display: block;\r\n    color: #999;\r\n    font-size: 12px;\r\n    margin-bottom: 4px;\r\n}\r\n.name{\r\n    font-weight: bold;\r\n    margin-right: 6px;\r\n}\r\n.messages{\r\n    max-height: 400px;\r\n    overflow: auto;\r\n}\r\n</style>"]}]}